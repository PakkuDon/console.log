<h2><%= @user.username %></h2>
<p>
  Joined <%= @user.date_joined.strftime("%b %-d %Y")%>
  <% if logged_in? && @user.id != current_user_id %>
    <% if following?(@user) %>
      <form action="/follows" method="post">
        <input type="hidden" name="_method" value="delete">
        <input type="hidden" name="user_id" value="<%= @user.id %>">
        <button>Unfollow</button>
      </form>
    <% else %>
      <form action="/follows" method="post">
        <input type="hidden" name="user_id" value="<%= @user.id %>">
        <button>Follow</button>
      </form>
    <% end %>
  <% end %>
</p>
<h3>Posts</h3>
<% @user.posts.each do |post| %>
  <div class="post">
    <div>
      Posted on <%= post.date_posted.strftime("%b %-d %Y") %>
      - <%= post.estimated_reading_time %>
    </div>
    <h2>
      <a href="/posts/<%= post.id %>"><%= post.title %></a>
    </h2>
    <p>
      <%= post.content.slice(0, 200) %>
    </p>
  </div>
<% end %>

<h3>Liked posts</h3>
<% @user.likes.each do |like| %>
  <div class="post">
    <div>
      Posted on <%= like.post.date_posted.strftime("%b %-d %Y") %>
      - <%= like.post.estimated_reading_time %>
    </div>
    <h2>
      <a href="/posts/<%= like.post.id %>"><%= like.post.title %></a>
    </h2>
    <p>
      <%= like.post.content.slice(0, 200) %>
    </p>
  </div>
<% end %>
